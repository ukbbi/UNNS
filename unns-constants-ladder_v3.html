<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNNS Axiom → Application Ladder with Constants</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0a0e27 0%, #1a0033 100%);
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Modal Styles for Original Visualization */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            overflow: auto;
        }
        
        .modal-content {
            position: relative;
            margin: 20px auto;
            width: 95%;
            max-width: 1400px;
            background: linear-gradient(135deg, #0f0f1e 0%, #1a1a2e 100%);
            border-radius: 15px;
            box-shadow: 0 0 50px rgba(74, 158, 255, 0.3);
        }
        
        .modal-close {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 35px;
            font-weight: bold;
            color: #8bb9ff;
            cursor: pointer;
            z-index: 1001;
            background: rgba(10, 14, 39, 0.9);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }
        
        .modal-close:hover {
            color: #ffffff;
            box-shadow: 0 0 15px rgba(74, 158, 255, 0.5);
        }
        
        .modal-body {
            height: 90vh;
            overflow-y: auto;
            padding: 20px;
        }
        
        /* Button to open detailed view */
        .open-detailed-btn {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 24px;
            background: linear-gradient(45deg, #4a9eff, #8bb9ff);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            z-index: 101;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 158, 255, 0.3);
        }
        
        .open-detailed-btn:hover {
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 6px 25px rgba(74, 158, 255, 0.5);
        }
        
        /* Constants Dashboard */
        .constants-dashboard {
            position: fixed;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(10, 14, 39, 0.9);
            border: 2px solid #4a9eff;
            border-radius: 15px;
            padding: 20px;
            width: 280px;
            box-shadow: 0 0 30px rgba(74, 158, 255, 0.3);
            z-index: 100;
        }
        
        .constants-dashboard h3 {
            color: #4a9eff;
            margin-bottom: 15px;
            text-align: center;
            font-size: 18px;
            text-shadow: 0 0 10px rgba(74, 158, 255, 0.5);
        }
        
        .constant-item {
            margin: 10px 0;
            padding: 8px;
            background: rgba(74, 158, 255, 0.1);
            border-radius: 5px;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        
        .constant-item.active {
            background: rgba(74, 158, 255, 0.3);
            border-color: #4a9eff;
            animation: constantPulse 1s ease-in-out infinite;
            box-shadow: 0 0 15px rgba(74, 158, 255, 0.5);
        }
        
        @keyframes constantPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .constant-name {
            font-weight: bold;
            color: #8bb9ff;
            margin-bottom: 3px;
        }
        
        .constant-value {
            font-size: 12px;
            color: #a0a0a0;
            font-style: italic;
        }
        
        /* Main Ladder Container */
        .main-container {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            padding: 80px 20px 40px 320px;
            position: relative;
        }
        
        /* Controls */
        .controls {
            position: fixed;
            right: 20px;
            top: 80px;
            background: rgba(10, 14, 39, 0.9);
            border: 1px solid #4a9eff;
            border-radius: 10px;
            padding: 15px;
            z-index: 100;
        }
        
        .controls button {
            display: block;
            width: 100%;
            margin: 5px 0;
            padding: 8px 12px;
            background: linear-gradient(45deg, #2a4a7f, #4a9eff);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .controls button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(74, 158, 255, 0.5);
        }
        
        .slider-container {
            margin-top: 15px;
        }
        
        .slider-container label {
            display: block;
            margin-bottom: 5px;
            font-size: 12px;
            color: #8bb9ff;
        }
        
        #levelSlider {
            width: 100%;
            cursor: pointer;
        }
        
        /* UPI Gauge */
        .upi-indicator {
            position: fixed;
            right: 20px;
            bottom: 20px;
            width: 150px;
            height: 150px;
            z-index: 100;
        }
        
        .upi-gauge {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .upi-needle {
            position: absolute;
            width: 2px;
            height: 60px;
            background: #ff4444;
            bottom: 50%;
            left: 50%;
            transform-origin: bottom center;
            transform: translateX(-50%) rotate(0deg);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 10px rgba(255, 68, 68, 0.8);
        }
        
        .upi-threshold {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 2px solid #ff8844;
            border-radius: 50%;
            border-bottom: none;
            border-left: none;
            transform: rotate(45deg);
        }
        
        .upi-label {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff8844;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* Ladder Levels */
        .level {
            margin: 30px 0;
            padding: 30px;
            background: rgba(42, 74, 127, 0.15);
            border: 2px solid #4a9eff;
            border-radius: 15px;
            position: relative;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .level.active {
            background: rgba(74, 158, 255, 0.25);
            transform: translateX(10px) scale(1.02);
            box-shadow: 0 10px 40px rgba(74, 158, 255, 0.3);
        }
        
        .level.shaking {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        .level-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .level-number {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #4a9eff, #8bb9ff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            font-size: 20px;
            transition: all 0.3s ease;
        }
        
        .level.active .level-number {
            animation: rotatePulse 2s linear infinite;
        }
        
        @keyframes rotatePulse {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        .level-title {
            flex: 1;
        }
        
        .level-title h2 {
            color: #8bb9ff;
            margin-bottom: 5px;
        }
        
        .axioms {
            font-size: 14px;
            color: #a0a0a0;
        }
        
        /* Visualization Area */
        .visualization {
            height: 200px;
            position: relative;
            margin-top: 20px;
            border: 1px solid rgba(74, 158, 255, 0.3);
            border-radius: 10px;
            overflow: hidden;
            background: rgba(0, 0, 0, 0.3);
        }
        
        /* Spiral Overlay */
        .spiral-overlay {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0;
            transition: opacity 1s ease;
        }
        
        .spiral-overlay.active {
            opacity: 1;
        }
        
        /* Fractal Patterns */
        .fractal-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease;
        }
        
        .fractal-pattern.active {
            opacity: 0.3;
        }
        
        /* Dynamic Elements */
        .dynamic-element {
            position: absolute;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Connecting Lines */
        .ladder-connection {
            position: absolute;
            left: 50%;
            width: 2px;
            background: linear-gradient(to bottom, transparent, #4a9eff, transparent);
            transform: translateX(-50%);
            z-index: -1;
        }
        
        /* Header */
        h1 {
            text-align: center;
            color: #8bb9ff;
            margin-bottom: 40px;
            font-size: 32px;
            text-shadow: 0 0 20px rgba(74, 158, 255, 0.5);
            animation: titlePulse 3s ease-in-out infinite;
        }
        
        @keyframes titlePulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .constants-dashboard {
                position: static;
                transform: none;
                width: 100%;
                margin-bottom: 20px;
            }
            
            .main-container {
                padding: 80px 20px 20px;
            }
            
            .controls {
                position: static;
                margin-bottom: 20px;
                width: 100%;
            }
            
            .upi-indicator {
                position: static;
                margin: 20px auto;
            }
            
            .open-detailed-btn {
                position: static;
                transform: none;
                margin: 20px auto;
                display: block;
            }
        }
    </style>
</head>
<body>
    <!-- Button to open detailed visualization -->
    <button class="open-detailed-btn" onclick="openDetailedView()">📊 Open Detailed Axiom View</button>
    
    <!-- Modal for detailed visualization -->
    <div id="detailedModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeDetailedView()">&times;</span>
            <div class="modal-body" id="modalBody">
                <!-- The detailed visualization will be inserted here -->
            </div>
        </div>
    </div>
    
    <!-- Constants Dashboard -->
    <div class="constants-dashboard">
        <h3>UNNS Constants</h3>
        <div class="constant-item" data-constant="limit-ratio">
            <div class="constant-name">1. Limit Ratio</div>
            <div class="constant-value">φ = 1.618..., ω = 2.718...</div>
        </div>
        <div class="constant-item" data-constant="coefficients">
            <div class="constant-name">2. Coefficients</div>
            <div class="constant-value">c₁, c₂, ..., cᵣ</div>
        </div>
        <div class="constant-item" data-constant="coeff-ring">
            <div class="constant-name">3. Coefficient Ring</div>
            <div class="constant-value">ℤ[√2], ℚ(π)</div>
        </div>
        <div class="constant-item" data-constant="edge">
            <div class="constant-name">4. Edge Constants</div>
            <div class="constant-value">FEEC: c₁, c₂, C</div>
        </div>
        <div class="constant-item" data-constant="upi">
            <div class="constant-name">5. UPI</div>
            <div class="constant-value">Paradox Index: 0.73...</div>
        </div>
        <div class="constant-item" data-constant="godel">
            <div class="constant-name">6. Gödel Constant</div>
            <div class="constant-value">G = 3.14159...</div>
        </div>
        <div class="constant-item" data-constant="prime">
            <div class="constant-name">7. Prime Density</div>
            <div class="constant-value">ρ = 0.4342...</div>
        </div>
        <div class="constant-item" data-constant="depth">
            <div class="constant-name">8. Nest Depth</div>
            <div class="constant-value">D = max depth</div>
        </div>
    </div>
    
    <!-- Controls -->
    <div class="controls">
        <button onclick="animateClimb()">Climb Ladder</button>
        <button onclick="triggerUPIThreshold()">Trigger UPI</button>
        <button onclick="addSpirals()">Add Spirals</button>
        <button onclick="addFractals()">Add Fractals</button>
        <div class="slider-container">
            <label for="levelSlider">Slide Through Levels:</label>
            <input type="range" id="levelSlider" min="0" max="3" value="0" onchange="updateLevel(this.value)">
        </div>
    </div>
    
    <!-- UPI Indicator -->
    <div class="upi-indicator">
        <div class="upi-gauge">
            <svg width="150" height="150">
                <circle cx="75" cy="75" r="70" fill="none" stroke="#2a4a7f" stroke-width="3"/>
                <circle cx="75" cy="75" r="70" fill="none" stroke="#4a9eff" stroke-width="1" 
                        stroke-dasharray="220 220" stroke-dashoffset="110" 
                        transform="rotate(-90 75 75)"/>
            </svg>
            <div class="upi-needle" id="upiNeedle"></div>
            <div class="upi-threshold"></div>
            <div class="upi-label">UPI: <span id="upiValue">0.00</span></div>
        </div>
    </div>
    
    <!-- Main Container -->
    <div class="main-container">
        <h1>UNNS: Dynamic Constants Dashboard</h1>
        
        <!-- Level 1: Structural Foundation -->
        <div class="level" data-level="0" data-constants="limit-ratio,depth">
            <div class="level-header">
                <div class="level-number">1</div>
                <div class="level-title">
                    <h2>Structural Foundation</h2>
                    <div class="axioms">Axioms: Recurrence & Nest Depth</div>
                </div>
            </div>
            <div class="visualization" id="viz1">
                <canvas id="canvas1" width="950" height="200"></canvas>
                <div class="spiral-overlay" id="spiral1"></div>
                <div class="fractal-pattern" id="fractal1"></div>
            </div>
        </div>
        
        <!-- Ladder Connection -->
        <div class="ladder-connection" style="top: 250px; height: 60px;"></div>
        
        <!-- Level 2: Algebraic Character -->
        <div class="level" data-level="1" data-constants="coefficients,coeff-ring">
            <div class="level-header">
                <div class="level-number">2</div>
                <div class="level-title">
                    <h2>Algebraic Character</h2>
                    <div class="axioms">Axioms: Limit Ratio & Coefficient Ring</div>
                </div>
            </div>
            <div class="visualization" id="viz2">
                <canvas id="canvas2" width="950" height="200"></canvas>
                <div class="spiral-overlay" id="spiral2"></div>
                <div class="fractal-pattern" id="fractal2"></div>
            </div>
        </div>
        
        <!-- Ladder Connection -->
        <div class="ladder-connection" style="top: 510px; height: 60px;"></div>
        
        <!-- Level 3: Dynamics & Stability -->
        <div class="level" data-level="2" data-constants="edge,upi,prime">
            <div class="level-header">
                <div class="level-number">3</div>
                <div class="level-title">
                    <h2>Dynamics & Stability</h2>
                    <div class="axioms">Axioms: Propagation & Paradox Index</div>
                </div>
            </div>
            <div class="visualization" id="viz3">
                <canvas id="canvas3" width="950" height="200"></canvas>
                <div class="spiral-overlay" id="spiral3"></div>
                <div class="fractal-pattern" id="fractal3"></div>
            </div>
        </div>
        
        <!-- Ladder Connection -->
        <div class="ladder-connection" style="top: 770px; height: 60px;"></div>
        
        <!-- Level 4: Higher Order & Integration -->
        <div class="level" data-level="3" data-constants="godel,prime">
            <div class="level-header">
                <div class="level-number">4</div>
                <div class="level-title">
                    <h2>Higher Order & Integration</h2>
                    <div class="axioms">Axioms: Embedding & Undecidability</div>
                </div>
            </div>
            <div class="visualization" id="viz4">
                <canvas id="canvas4" width="950" height="200"></canvas>
                <div class="spiral-overlay" id="spiral4"></div>
                <div class="fractal-pattern" id="fractal4"></div>
            </div>
        </div>
    </div>
    
    <script>
        // Global variables
        let currentLevel = 0;
        let animationFrames = {};
        let upiValue = 0;
        let spiralsActive = false;
        let fractalsActive = false;
        
        // Detailed visualization HTML content
        const detailedVisualizationHTML = `
            <style>
                * {
                    margin: 0;
                    padding: 0;
                    box-sizing: border-box;
                }
                
                .detailed-container {
                    font-family: 'Segoe UI', system-ui, sans-serif;
                    background: linear-gradient(135deg, #0f0f1e 0%, #1a1a2e 100%);
                    color: #e0e0e0;
                    min-height: 100vh;
                    padding: 20px;
                }
                
                .detailed-container h1 {
                    text-align: center;
                    font-size: 2.5em;
                    margin-bottom: 10px;
                    background: linear-gradient(90deg, #4fc3f7, #29b6f6, #0288d1);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    text-shadow: 0 0 30px rgba(79, 195, 247, 0.5);
                }
                
                .subtitle {
                    text-align: center;
                    color: #9e9e9e;
                    margin-bottom: 40px;
                    font-size: 1.1em;
                }
                
                .philosophical {
                    text-align: center;
                    margin: 40px 0;
                    padding: 30px;
                    background: linear-gradient(135deg, rgba(103, 58, 183, 0.1), rgba(63, 81, 181, 0.1));
                    border-radius: 15px;
                    border: 2px solid #5C6BC0;
                    animation: philosophyBreath 7s ease-in-out infinite;
                }
                
                @keyframes philosophyBreath {
                    0%, 100% { 
                        border-color: #5C6BC0;
                        box-shadow: 0 0 20px rgba(92, 107, 192, 0.2);
                    }
                    50% { 
                        border-color: #7E57C2;
                        box-shadow: 0 0 30px rgba(126, 87, 194, 0.4);
                    }
                }
                
                .philosophical h3 {
                    color: #7E57C2;
                    margin-bottom: 15px;
                    font-size: 1.4em;
                }
                
                .philosophical p {
                    color: #B39DDB;
                    font-style: italic;
                    font-size: 1.1em;
                    line-height: 1.6;
                }
                
                .detail-level {
                    position: relative;
                    margin: 20px 0;
                    opacity: 0;
                    animation: slideIn 0.8s ease forwards;
                }
                
                .detail-level:nth-child(1) { animation-delay: 0.2s; }
                .detail-level:nth-child(2) { animation-delay: 0.4s; }
                .detail-level:nth-child(3) { animation-delay: 0.6s; }
                .detail-level:nth-child(4) { animation-delay: 0.8s; }
                
                @keyframes slideIn {
                    from {
                        opacity: 0;
                        transform: translateX(-50px);
                    }
                    to {
                        opacity: 1;
                        transform: translateX(0);
                    }
                }
                
                .level-card {
                    background: rgba(255, 255, 255, 0.05);
                    border: 2px solid;
                    border-radius: 15px;
                    padding: 25px;
                    backdrop-filter: blur(10px);
                    transition: all 0.3s ease;
                    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
                    animation: cardBreath 6s ease-in-out infinite;
                }
                
                @keyframes cardBreath {
                    0%, 100% { box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); }
                    50% { box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15); }
                }
                
                .level-1 { 
                    border-color: #757575;
                    background: linear-gradient(135deg, rgba(117, 117, 117, 0.1), rgba(117, 117, 117, 0.05));
                }
                
                .level-2 { 
                    border-color: #2196F3;
                    background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), rgba(33, 150, 243, 0.05));
                }
                
                .level-3 { 
                    border-color: #f44336;
                    background: linear-gradient(135deg, rgba(244, 67, 54, 0.1), rgba(244, 67, 54, 0.05));
                }
                
                .level-4 { 
                    border-color: #4CAF50;
                    background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(76, 175, 80, 0.05));
                }
                
                .detail-level-header {
                    display: flex;
                    align-items: center;
                    margin-bottom: 20px;
                }
                
                .detail-level-number {
                    width: 60px;
                    height: 60px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.8em;
                    font-weight: bold;
                    margin-right: 20px;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
                }
                
                .level-1 .detail-level-number { background: linear-gradient(135deg, #757575, #616161); }
                .level-2 .detail-level-number { background: linear-gradient(135deg, #2196F3, #1976D2); }
                .level-3 .detail-level-number { background: linear-gradient(135deg, #f44336, #d32f2f); }
                .level-4 .detail-level-number { background: linear-gradient(135deg, #4CAF50, #388E3C); }
                
                .detail-level-title h2 {
                    font-size: 1.8em;
                    margin-bottom: 5px;
                    color: #fafafa;
                }
                
                .detail-level-subtitle {
                    color: #9e9e9e;
                    font-size: 0.9em;
                }
                
                .content-grid {
                    display: grid;
                    grid-template-columns: 1.2fr 1.5fr 1fr;
                    gap: 20px;
                    margin-top: 20px;
                }
                
                @media (max-width: 968px) {
                    .content-grid {
                        grid-template-columns: 1fr;
                    }
                }
                
                .content-section {
                    background: rgba(0, 0, 0, 0.3);
                    padding: 15px;
                    border-radius: 10px;
                    border-left: 3px solid;
                }
                
                .level-1 .content-section { border-left-color: #757575; }
                .level-2 .content-section { border-left-color: #2196F3; }
                .level-3 .content-section { border-left-color: #f44336; }
                .level-4 .content-section { border-left-color: #4CAF50; }
                
                .content-section h3 {
                    font-size: 1.1em;
                    margin-bottom: 10px;
                    color: #fafafa;
                }
                
                .axiom-list, .app-list {
                    list-style: none;
                    padding-left: 10px;
                }
                
                .axiom-list li, .app-list li {
                    position: relative;
                    padding-left: 20px;
                    margin: 8px 0;
                    color: #bdbdbd;
                    font-size: 0.95em;
                    line-height: 1.5;
                }
                
                .axiom-list li:before {
                    content: "◆";
                    position: absolute;
                    left: 0;
                }
                
                .app-list li:before {
                    content: "▸";
                    position: absolute;
                    left: 0;
                }
                
                .formula {
                    font-family: 'Courier New', monospace;
                    background: rgba(255, 255, 255, 0.1);
                    padding: 2px 6px;
                    border-radius: 3px;
                    font-size: 0.9em;
                }
                
                .visual-container {
                    height: 200px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    position: relative;
                    overflow: hidden;
                    animation: breathe 4s ease-in-out infinite;
                }
                
                @keyframes breathe {
                    0%, 100% { transform: scale(1); opacity: 0.9; }
                    50% { transform: scale(1.02); opacity: 1; }
                }
            </style>
            
            <div class="detailed-container">
                <h1>🔮 UNNS Axiom → Application Ladder</h1>
                <p class="subtitle">8 Foundational Axioms Ascending to Advanced Applications</p>
                
                <div class="philosophical">
                    <h3>Core Philosophical Insight</h3>
                    <p>Set theory asks: "What can be contained?"<br>
                    UNNS asks: "What can propagate?"<br>
                    Together, they frame structure and resonance: skeleton and soul.</p>
                    <p style="margin-top: 15px; font-size: 0.9em; color: #9e9e9e;">8 Axioms • 4 Levels • 2 Axioms per Level</p>
                </div>
                
                <!-- Level 1 -->
                <div class="detail-level level-1">
                    <div class="level-card">
                        <div class="detail-level-header">
                            <div class="detail-level-number">1</div>
                            <div class="detail-level-title">
                                <h2>Structural Foundation</h2>
                                <span class="detail-level-subtitle">The bedrock of recurrence mathematics</span>
                            </div>
                        </div>
                        <div class="content-grid">
                            <div class="content-section">
                                <h3>🔸 Axioms 1-2</h3>
                                <ul class="axiom-list">
                                    <li><strong>1. Recurrence:</strong> Every sequence follows <span class="formula">a(n+r) = c₁a(n+r-1) + ... + cᵣa(n)</span></li>
                                    <li><strong>2. Nest Depth:</strong> Unique minimal order D for shortest recurrence</li>
                                </ul>
                            </div>
                            <div class="content-section">
                                <h3>🎨 Key Concepts</h3>
                                <p style="color: #bdbdbd; line-height: 1.6;">
                                    Recurrence relations generate infinite sequences from finite rules. 
                                    The nest depth measures the intrinsic complexity of these patterns.
                                </p>
                            </div>
                            <div class="content-section">
                                <h3>⚙️ Applications</h3>
                                <ul class="app-list">
                                    <li>Fibonacci, Lucas, Chebyshev sequences</li>
                                    <li>Minimal recurrence discovery</li>
                                    <li>Sequence complexity measurement</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Level 2 -->
                <div class="detail-level level-2">
                    <div class="level-card">
                        <div class="detail-level-header">
                            <div class="detail-level-number">2</div>
                            <div class="detail-level-title">
                                <h2>Algebraic Character</h2>
                                <span class="detail-level-subtitle">Convergence and algebraic structure</span>
                            </div>
                        </div>
                        <div class="content-grid">
                            <div class="content-section">
                                <h3>🔸 Axioms 3-4</h3>
                                <ul class="axiom-list">
                                    <li><strong>3. Limit Ratio:</strong> Terms converge to dominant root</li>
                                    <li><strong>4. Coefficient Ring:</strong> Coefficients in <span class="formula">cᵢ ∈ ℤ[α]</span></li>
                                </ul>
                            </div>
                            <div class="content-section">
                                <h3>🎨 Key Concepts</h3>
                                <p style="color: #bdbdbd; line-height: 1.6;">
                                    The golden ratio φ emerges naturally from recurrence. 
                                    Coefficient rings determine the algebraic structure.
                                </p>
                            </div>
                            <div class="content-section">
                                <h3>⚙️ Applications</h3>
                                <ul class="app-list">
                                    <li>Golden ratio and constants</li>
                                    <li>Gaussian/Eisenstein integers</li>
                                    <li>Characteristic polynomials</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Level 3 -->
                <div class="detail-level level-3">
                    <div class="level-card">
                        <div class="detail-level-header">
                            <div class="detail-level-number">3</div>
                            <div class="detail-level-title">
                                <h2>Dynamics & Stability</h2>
                                <span class="detail-level-subtitle">Propagation patterns and stability</span>
                            </div>
                        </div>
                        <div class="content-grid">
                            <div class="content-section">
                                <h3>🔸 Axioms 5-6</h3>
                                <ul class="axiom-list">
                                    <li><strong>5. Propagation:</strong> Forward recursive flow</li>
                                    <li><strong>6. Paradox Index:</strong> UPI = <span class="formula">D·R/(M+S)</span></li>
                                </ul>
                            </div>
                            <div class="content-section">
                                <h3>🎨 Key Concepts</h3>
                                <p style="color: #bdbdbd; line-height: 1.6;">
                                    Systems propagate until degeneracy halts them. 
                                    The UPI measures proximity to paradox thresholds.
                                </p>
                            </div>
                            <div class="content-section">
                                <h3>⚙️ Applications</h3>
                                <ul class="app-list">
                                    <li>Branching systems</li>
                                    <li>UPI burst detection</li>
                                    <li>Stability analysis</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Level 4 -->
                <div class="detail-level level-4">
                    <div class="level-card">
                        <div class="detail-level-header">
                            <div class="detail-level-number">4</div>
                            <div class="detail-level-title">
                                <h2>Higher Order & Integration</h2>
                                <span class="detail-level-subtitle">Lattice embedding and undecidability</span>
                            </div>
                        </div>
                        <div class="content-grid">
                            <div class="content-section">
                                <h3>🔸 Axioms 7-8</h3>
                                <ul class="axiom-list">
                                    <li><strong>7. Embedding:</strong> Tower <span class="formula">ℤ ⊂ ℤ[i] ⊂ ℤ[ω]</span></li>
                                    <li><strong>8. Undecidability:</strong> Gödel phenomena</li>
                                </ul>
                            </div>
                            <div class="content-section">
                                <h3>🎨 Key Concepts</h3>
                                <p style="color: #bdbdbd; line-height: 1.6;">
                                    Complex nests embed in ascending lattice towers. 
                                    Undecidable branches emerge at higher complexity.
                                </p>
                            </div>
                            <div class="content-section">
                                <h3>⚙️ Applications</h3>
                                <ul class="app-list">
                                    <li>Gödel incompleteness</li>
                                    <li>FEEC/DEC for Maxwell</li>
                                    <li>Quantum field lattices</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="philosophical">
                    <h3>Complete Axiomatic Framework</h3>
                    <p>All 8 UNNS axioms are distributed across 4 levels (2 axioms per level).<br>
                    Each rung adds complexity and explanatory power.<br>
                    The ladder ensures that <strong>applications are grounded in axioms</strong>,<br>
                    making UNNS a rigorous mathematical discipline.</p>
                </div>
            </div>
        `;
        
        // Functions for modal
        function openDetailedView() {
            const modal = document.getElementById('detailedModal');
            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = detailedVisualizationHTML;
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
        
        function closeDetailedView() {
            const modal = document.getElementById('detailedModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('detailedModal');
            if (event.target === modal) {
                closeDetailedView();
            }
        }
        
        // Initialize canvases
        function initializeVisualizations() {
            // Level 1: Recurrence loops
            const canvas1 = document.getElementById('canvas1');
            const ctx1 = canvas1.getContext('2d');
            animateRecurrence(ctx1, canvas1);
            
            // Level 2: Convergence spirals
            const canvas2 = document.getElementById('canvas2');
            const ctx2 = canvas2.getContext('2d');
            animateConvergence(ctx2, canvas2);
            
            // Level 3: Propagation dynamics
            const canvas3 = document.getElementById('canvas3');
            const ctx3 = canvas3.getContext('2d');
            animatePropagation(ctx3, canvas3);
            
            // Level 4: Lattice structure
            const canvas4 = document.getElementById('canvas4');
            const ctx4 = canvas4.getContext('2d');
            animateLattice(ctx4, canvas4);
        }
        
        // Level 1: Recurrence animation
        function animateRecurrence(ctx, canvas) {
            let time = 0;
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.strokeStyle = '#4a9eff';
                ctx.lineWidth = 2;
                
                // Draw recurrence loops
                for (let i = 0; i < 5; i++) {
                    const x = 100 + i * 180;
                    const radius = 30 + Math.sin(time + i) * 10;
                    
                    ctx.beginPath();
                    ctx.arc(x, 100, radius, 0, Math.PI * 2);
                    ctx.stroke();
                    
                    // Draw arrow showing recurrence
                    ctx.save();
                    ctx.translate(x, 100);
                    ctx.rotate(time + i);
                    ctx.beginPath();
                    ctx.moveTo(radius, 0);
                    ctx.lineTo(radius - 10, -5);
                    ctx.lineTo(radius - 10, 5);
                    ctx.closePath();
                    ctx.fillStyle = '#8bb9ff';
                    ctx.fill();
                    ctx.restore();
                }
                
                // Draw depth blocks
                for (let j = 0; j < 8; j++) {
                    const height = 20 + Math.sin(time * 0.5 + j * 0.5) * 10;
                    const x = 50 + j * 110;
                    ctx.fillStyle = `rgba(74, 158, 255, ${0.3 + j * 0.08})`;
                    ctx.fillRect(x, 180 - height, 80, height);
                }
                
                time += 0.02;
                animationFrames.recurrence = requestAnimationFrame(draw);
            }
            draw();
        }
        
        // Level 2: Convergence animation
        function animateConvergence(ctx, canvas) {
            let time = 0;
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Draw spiraling convergence
                ctx.strokeStyle = '#ffd700';
                ctx.lineWidth = 2;
                
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;
                
                ctx.beginPath();
                for (let t = 0; t < 20; t += 0.1) {
                    const r = 80 * Math.exp(-t * 0.1);
                    const angle = t + time;
                    const x = centerX + r * Math.cos(angle);
                    const y = centerY + r * Math.sin(angle);
                    
                    if (t === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
                
                // Draw coefficient nodes
                for (let i = 0; i < 6; i++) {
                    const angle = (Math.PI * 2 / 6) * i + time * 0.5;
                    const x = centerX + Math.cos(angle) * 60;
                    const y = centerY + Math.sin(angle) * 60;
                    
                    ctx.fillStyle = '#ff8844';
                    ctx.beginPath();
                    ctx.arc(x, y, 8, 0, Math.PI * 2);
                    ctx.fill();
                    
                    ctx.fillStyle = '#ffffff';
                    ctx.font = '10px monospace';
                    ctx.fillText(`c${i+1}`, x - 5, y + 3);
                }
                
                time += 0.02;
                animationFrames.convergence = requestAnimationFrame(draw);
            }
            draw();
        }
        
        // Level 3: Propagation animation
        function animatePropagation(ctx, canvas) {
            let time = 0;
            const particles = [];
            
            // Initialize particles
            for (let i = 0; i < 20; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    glitch: Math.random() < 0.2
                });
            }
            
            function draw() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Update and draw particles
                particles.forEach(p => {
                    p.x += p.vx;
                    p.y += p.vy;
                    
                    // Bounce off walls
                    if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
                    if (p.y < 0 || p.y > canvas.height) p.vy *= -1;
                    
                    // Glitching effect for paradox nodes
                    if (p.glitch && Math.random() < 0.1) {
                        p.x += (Math.random() - 0.5) * 20;
                        p.y += (Math.random() - 0.5) * 20;
                    }
                    
                    ctx.fillStyle = p.glitch ? '#ff4444' : '#4a9eff';
                    ctx.fillRect(p.x - 2, p.y - 2, 4, 4);
                    
                    // Draw connections
                    particles.forEach(p2 => {
                        const dist = Math.sqrt((p.x - p2.x)**2 + (p.y - p2.y)**2);
                        if (dist < 100 && dist > 0) {
                            ctx.strokeStyle = `rgba(74, 158, 255, ${0.3 - dist/333})`;
                            ctx.lineWidth = 0.5;
                            ctx.beginPath();
                            ctx.moveTo(p.x, p.y);
                            ctx.lineTo(p2.x, p2.y);
                            ctx.stroke();
                        }
                    });
                });
                
                time += 0.02;
                animationFrames.propagation = requestAnimationFrame(draw);
            }
            draw();
        }
        
        // Level 4: Lattice animation
        function animateLattice(ctx, canvas) {
            let time = 0;
            
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Draw lattice structure
                ctx.strokeStyle = '#8bb9ff';
                ctx.lineWidth = 1;
                
                const rows = 5;
                const cols = 8;
                const spacing = canvas.width / (cols + 1);
                const vSpacing = canvas.height / (rows + 1);
                
                // Draw lattice lines
                for (let i = 1; i <= cols; i++) {
                    for (let j = 1; j <= rows; j++) {
                        const x = i * spacing;
                        const y = j * vSpacing + Math.sin(time + i * 0.3) * 5;
                        
                        // Connect to neighbors
                        if (i < cols) {
                            ctx.beginPath();
                            ctx.moveTo(x, y);
                            ctx.lineTo((i + 1) * spacing, j * vSpacing + Math.sin(time + (i + 1) * 0.3) * 5);
                            ctx.stroke();
                        }
                        
                        if (j < rows) {
                            ctx.beginPath();
                            ctx.moveTo(x, y);
                            ctx.lineTo(x, (j + 1) * vSpacing + Math.sin(time + i * 0.3) * 5);
                            ctx.stroke();
                        }
                        
                        // Draw node
                        ctx.fillStyle = '#4a9eff';
                        ctx.beginPath();
                        ctx.arc(x, y, 3, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }
                
                // Draw orbiting constants
                const constants = ['π', 'e', 'φ', 'G'];
                constants.forEach((c, i) => {
                    const angle = (Math.PI * 2 / constants.length) * i + time;
                    const x = canvas.width / 2 + Math.cos(angle) * 80;
                    const y = canvas.height / 2 + Math.sin(angle) * 40;
                    
                    ctx.fillStyle = '#ffd700';
                    ctx.font = 'bold 16px monospace';
                    ctx.fillText(c, x, y);
                });
                
                time += 0.02;
                animationFrames.lattice = requestAnimationFrame(draw);
            }
            draw();
        }
        
        // Update level based on slider
        function updateLevel(value) {
            currentLevel = parseInt(value);
            
            // Update active level styling
            document.querySelectorAll('.level').forEach((level, index) => {
                level.classList.toggle('active', index === currentLevel);
            });
            
            // Update active constants
            updateActiveConstants();
            
            // Update UPI value
            updateUPI();
        }
        
        // Update which constants are highlighted
        function updateActiveConstants() {
            const activeLevel = document.querySelector(`.level[data-level="${currentLevel}"]`);
            const activeConstants = activeLevel.dataset.constants.split(',');
            
            document.querySelectorAll('.constant-item').forEach(item => {
                const constantType = item.dataset.constant;
                item.classList.toggle('active', activeConstants.includes(constantType));
            });
        }
        
        // Update UPI needle
        function updateUPI() {
            upiValue = 0.2 + currentLevel * 0.2 + Math.random() * 0.1;
            const needle = document.getElementById('upiNeedle');
            const rotation = -90 + (upiValue * 180);
            needle.style.transform = `translateX(-50%) rotate(${rotation}deg)`;
            document.getElementById('upiValue').textContent = upiValue.toFixed(2);
        }
        
        // Animate climbing the ladder
        function animateClimb() {
            let level = 0;
            const interval = setInterval(() => {
                document.getElementById('levelSlider').value = level;
                updateLevel(level);
                
                if (spiralsActive) {
                    document.getElementById(`spiral${level + 1}`).classList.add('active');
                }
                
                if (fractalsActive) {
                    document.getElementById(`fractal${level + 1}`).classList.add('active');
                }
                
                level++;
                if (level > 3) {
                    clearInterval(interval);
                }
            }, 800);
        }
        
        // Trigger UPI threshold
        function triggerUPIThreshold() {
            upiValue = 0.75 + Math.random() * 0.25;
            const needle = document.getElementById('upiNeedle');
            const rotation = -90 + (upiValue * 180);
            needle.style.transform = `translateX(-50%) rotate(${rotation}deg)`;
            document.getElementById('upiValue').textContent = upiValue.toFixed(2);
            
            // Shake all levels
            document.querySelectorAll('.level').forEach(level => {
                level.classList.add('shaking');
                setTimeout(() => level.classList.remove('shaking'), 500);
            });
            
            // Flash constants
            document.querySelectorAll('.constant-item').forEach((item, index) => {
                setTimeout(() => {
                    item.classList.add('active');
                    setTimeout(() => {
                        if (!item.classList.contains('active')) {
                            item.classList.remove('active');
                        }
                    }, 300);
                }, index * 50);
            });
        }
        
        // Add spiral overlays
        function addSpirals() {
            spiralsActive = true;
            for (let i = 1; i <= 4; i++) {
                const spiral = document.getElementById(`spiral${i}`);
                spiral.innerHTML = `
                    <svg width="100%" height="100%">
                        <defs>
                            <linearGradient id="spiralGrad${i}">
                                <stop offset="0%" stop-color="#4a9eff" stop-opacity="0"/>
                                <stop offset="50%" stop-color="#8bb9ff" stop-opacity="0.5"/>
                                <stop offset="100%" stop-color="#ffd700" stop-opacity="0"/>
                            </linearGradient>
                        </defs>
                        <path d="M 50,100 Q 200,50 350,100 T 650,100 Q 800,150 950,100" 
                              stroke="url(#spiralGrad${i})" stroke-width="3" fill="none"
                              stroke-dasharray="10,5" opacity="0.6">
                            <animate attributeName="stroke-dashoffset" 
                                     values="0;15" dur="2s" repeatCount="indefinite"/>
                        </path>
                    </svg>
                `;
                spiral.classList.add('active');
            }
        }
        
        // Add fractal patterns
        function addFractals() {
            fractalsActive = true;
            for (let i = 1; i <= 4; i++) {
                const fractal = document.getElementById(`fractal${i}`);
                fractal.innerHTML = createFractalPattern(i);
                fractal.classList.add('active');
            }
        }
        
        // Create fractal SVG pattern
        function createFractalPattern(level) {
            const complexity = level * 3;
            let svg = `<svg width="100%" height="100%">`;
            
            for (let i = 0; i < complexity; i++) {
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const size = 5 + Math.random() * 20;
                
                svg += `<rect x="${x}%" y="${y}%" width="${size}" height="${size}" 
                              fill="none" stroke="#4a9eff" stroke-width="0.5" opacity="0.3"
                              transform="rotate(${Math.random() * 360} ${x} ${y})">
                            <animateTransform attributeName="transform" 
                                            type="rotate" 
                                            from="0 ${x} ${y}" 
                                            to="360 ${x} ${y}" 
                                            dur="${10 + Math.random() * 10}s" 
                                            repeatCount="indefinite"/>
                        </rect>`;
            }
            
            svg += `</svg>`;
            return svg;
        }
        
        // Initialize on load
        window.addEventListener('load', () => {
            initializeVisualizations();
            updateActiveConstants();
            updateUPI();
        });
        
        // Cleanup on unload
        window.addEventListener('beforeunload', () => {
            Object.values(animationFrames).forEach(frame => {
                cancelAnimationFrame(frame);
            });
        });
    </script>
</body>
</html>