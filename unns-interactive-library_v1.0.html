<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNNS Research Library</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 50%, #0f0f1f 100%);
            color: #ffffff;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 50px;
        }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(90deg, #00f5ff, #b844ff, #ff006e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
            font-weight: 300;
        }

        .stats {
            display: flex;
            gap: 30px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .stat {
            padding: 10px 20px;
            background: rgba(184, 68, 255, 0.1);
            border: 1px solid rgba(184, 68, 255, 0.3);
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .stat strong {
            color: #b844ff;
            font-size: 1.2rem;
            margin-right: 5px;
        }

        .monitor-section {
            background: rgba(0, 245, 255, 0.05);
            border: 2px solid rgba(0, 245, 255, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .monitor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .monitor-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #00f5ff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #00f5ff;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-indicator.checking {
            background: #ff006e;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .monitor-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .monitor-btn {
            padding: 8px 16px;
            border: 1px solid rgba(0, 245, 255, 0.4);
            border-radius: 8px;
            background: rgba(0, 245, 255, 0.1);
            color: #00f5ff;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .monitor-btn:hover {
            background: rgba(0, 245, 255, 0.2);
            border-color: #00f5ff;
        }

        .monitor-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .monitor-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            font-size: 0.9rem;
        }

        .monitor-info-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 10px 15px;
            border-radius: 8px;
        }

        .monitor-info-label {
            opacity: 0.7;
            font-size: 0.8rem;
            margin-bottom: 5px;
        }

        .monitor-info-value {
            color: #00f5ff;
            font-weight: 600;
        }

        .update-notification {
            background: rgba(0, 245, 255, 0.1);
            border: 2px solid #00f5ff;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .update-notification strong {
            color: #00f5ff;
        }

        .controls {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
        }

        .search-box {
            margin-bottom: 25px;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 1rem;
            border: 2px solid rgba(0, 245, 255, 0.3);
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #00f5ff;
            box-shadow: 0 0 20px rgba(0, 245, 255, 0.3);
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .filter-section {
            margin-bottom: 20px;
        }

        .filter-label {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 10px;
            display: block;
            color: #00f5ff;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 1px solid rgba(184, 68, 255, 0.4);
            border-radius: 20px;
            background: rgba(184, 68, 255, 0.1);
            color: #b844ff;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            white-space: nowrap;
        }

        .filter-btn:hover {
            background: rgba(184, 68, 255, 0.2);
            border-color: #b844ff;
            transform: translateY(-2px);
        }

        .filter-btn.active {
            background: #b844ff;
            color: white;
            border-color: #b844ff;
        }

        .filter-btn.ton-field {
            border-color: rgba(0, 245, 255, 0.6);
            background: rgba(0, 245, 255, 0.15);
            color: #00f5ff;
            font-weight: 600;
        }

        .filter-btn.ton-field:hover {
            background: rgba(0, 245, 255, 0.25);
            border-color: #00f5ff;
        }

        .filter-btn.ton-field.active {
            background: #00f5ff;
            color: #000;
            border-color: #00f5ff;
        }

        .sort-controls {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .sort-select {
            padding: 10px 15px;
            border: 1px solid rgba(0, 245, 255, 0.3);
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .results-info {
            margin-bottom: 20px;
            font-size: 1rem;
            opacity: 0.8;
        }

        .results-info strong {
            color: #00f5ff;
        }

        .papers-grid {
            display: grid;
            gap: 20px;
            margin-bottom: 40px;
        }

        .paper-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s ease;
            animation: fadeIn 0.5s ease;
            position: relative;
        }

        .paper-card.new {
            border-color: #00f5ff;
            background: rgba(0, 245, 255, 0.05);
        }

        .paper-card.new::before {
            content: "NEW";
            position: absolute;
            top: 10px;
            right: 10px;
            background: #00f5ff;
            color: #000;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 700;
        }

        .paper-card.ton-field {
            border-color: rgba(0, 245, 255, 0.3);
            background: rgba(0, 245, 255, 0.02);
        }

        .paper-card.ton-field:hover {
            border-color: rgba(0, 245, 255, 0.6);
            background: rgba(0, 245, 255, 0.08);
            box-shadow: 0 10px 30px rgba(0, 245, 255, 0.3);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .paper-card:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(0, 245, 255, 0.4);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 245, 255, 0.2);
        }

        .paper-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #00f5ff;
        }

        .paper-title a {
            color: inherit;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .paper-title a:hover {
            color: #b844ff;
        }

        .paper-category {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(184, 68, 255, 0.2);
            border: 1px solid rgba(184, 68, 255, 0.4);
            border-radius: 12px;
            font-size: 0.8rem;
            color: #b844ff;
            margin-bottom: 10px;
        }

        .paper-category.ton-field-cat {
            background: rgba(0, 245, 255, 0.2);
            border-color: rgba(0, 245, 255, 0.5);
            color: #00f5ff;
            font-weight: 600;
        }

        .paper-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .paper-tag {
            padding: 3px 10px;
            background: rgba(255, 0, 110, 0.15);
            border: 1px solid rgba(255, 0, 110, 0.3);
            border-radius: 10px;
            font-size: 0.75rem;
            color: #ff006e;
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            font-size: 1.2rem;
            opacity: 0.6;
        }

        .clear-filters {
            padding: 10px 20px;
            background: rgba(255, 0, 110, 0.2);
            border: 1px solid rgba(255, 0, 110, 0.4);
            border-radius: 8px;
            color: #ff006e;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .clear-filters:hover {
            background: rgba(255, 0, 110, 0.3);
            border-color: #ff006e;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .controls, .monitor-section {
                padding: 20px;
            }

            .stats {
                flex-direction: column;
                gap: 10px;
            }

            .monitor-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .filter-buttons {
                gap: 8px;
            }

            .filter-btn {
                font-size: 0.85rem;
                padding: 6px 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>UNNS Research Library</h1>
            <p class="subtitle">Explore 150+ papers on recursive substrates and topological information theory</p>
            <div class="stats">
                <div class="stat"><strong id="totalCount">0</strong> Papers</div>
                <div class="stat"><strong>15</strong> Categories</div>
                <div class="stat"><strong>11</strong> Protocols</div>
            </div>
        </header>

        <div class="monitor-section">
            <div class="monitor-header">
                <div class="monitor-title">
                    <div class="status-indicator" id="statusIndicator"></div>
                    Repository Monitor
                </div>
                <div class="monitor-controls">
                    <button class="monitor-btn" id="checkNowBtn">Check for Updates</button>
                    <button class="monitor-btn" id="autoCheckToggle">Auto-Check: ON</button>
                </div>
            </div>
            <div class="monitor-info">
                <div class="monitor-info-item">
                    <div class="monitor-info-label">Last Checked</div>
                    <div class="monitor-info-value" id="lastChecked">Never</div>
                </div>
                <div class="monitor-info-item">
                    <div class="monitor-info-label">Repository Status</div>
                    <div class="monitor-info-value" id="repoStatus">Ready</div>
                </div>
                <div class="monitor-info-item">
                    <div class="monitor-info-label">New Papers Found</div>
                    <div class="monitor-info-value" id="newPapersCount">0</div>
                </div>
                <div class="monitor-info-item">
                    <div class="monitor-info-label">Next Check In</div>
                    <div class="monitor-info-value" id="nextCheck">5:00</div>
                </div>
            </div>
            <div id="updateNotification" style="display:none;"></div>
        </div>

        <div class="controls">
            <div class="search-box">
                <input 
                    type="text" 
                    id="searchInput" 
                    class="search-input" 
                    placeholder="Search papers by title, topic, or keyword..."
                >
            </div>

            <div class="filter-section">
                <label class="filter-label">Filter by Category</label>
                <div class="filter-buttons" id="categoryFilters"></div>
            </div>

            <div class="filter-section">
                <label class="filter-label">Sort & View</label>
                <div class="sort-controls">
                    <select id="sortSelect" class="sort-select">
                        <option value="title">Sort by Title (A-Z)</option>
                        <option value="category">Sort by Category</option>
                        <option value="recent">Recently Added First</option>
                    </select>
                    <button class="clear-filters" id="clearBtn">Clear All Filters</button>
                </div>
            </div>

            <div class="results-info">
                Showing <strong id="resultCount">0</strong> papers
            </div>
        </div>

        <div class="papers-grid" id="papersGrid"></div>
        <div class="no-results" id="noResults" style="display: none;">
            No papers found matching your criteria. Try adjusting your filters.
        </div>
    </div>

    <script>
        const GITHUB_API = 'https://api.github.com/repos/ukbbi/UNNS/contents';
        const CHECK_INTERVAL = 300000;
        
        let papers = [];
        let categories = [];
        let activeCategory = null;
        let searchQuery = '';
        let sortBy = 'title';
        let autoCheckEnabled = true;
        let checkTimer = null;
        let nextCheckTime = CHECK_INTERVAL / 1000;
        let newlyAddedPapers = new Set();

        const COMPLETE_PAPER_LIST = [
            // τon Field Theory - NEW CATEGORY
            {title: "From Bit to τon: Recasting the Elementary Unit of Information in the UNNS Framework", category: "τon Field", tags: ["information", "bit", "τon"], url: "https://ukbbi.github.io/UNNS/docs/Tauon_Field_Information_Geometry/From%20Bit%20to%20%CF%84%20on%20Recasting%20the%20Elementary%20Unit%20of%20Information%20in%20the%20UNNS%20Framework.pdf"},
            {title: "From Bit to τon: Toward a Field Theory of Recursive Information", category: "τon Field", tags: ["field theory", "recursive", "information"], url: "https://ukbbi.github.io/UNNS/docs/Tauon_Field_Information_Geometry/From%20Bit%20to%20%CF%84on%20Toward%20a%20Field%20Theory%20of%20Recursive%20Information.pdf"},
            {title: "Recursive Cosmology", category: "τon Field", tags: ["cosmology", "recursive"], url: "https://ukbbi.github.io/UNNS/docs/Tauon_Field_Information_Geometry/Recursive%20Cosmolog.pdf"},
            {title: "Recursive Field Foundations: τon Algebra and the UNNS Substrate", category: "τon Field", tags: ["algebra", "field theory", "τon"], url: "https://ukbbi.github.io/UNNS/docs/Tauon_Field_Information_Geometry/Recursive%20Field%20Foundations%20Ton%20Algebra%20and%20the%20UNNS%20Substrate.pdf"},
            {title: "Klein Manifold Geometry of Information", category: "τon Field", tags: ["klein", "geometry", "manifold"], url: "https://ukbbi.github.io/UNNS/docs/Tauon_Field_Information_Geometry/Klein%20Manifold%20Geometry%20of%20Information.pdf"},
            {title: "Recursive Gauge Symmetry and Klein Duality", category: "τon Field", tags: ["gauge", "klein", "symmetry", "duality"], url: "https://ukbbi.github.io/UNNS/docs/Tauon_Field_Information_Geometry/Recursive%20Gauge%20Symmetry%20and%20Klein%20Duality.pdf"},
            {title: "Recursive Grand Unification", category: "τon Field", tags: ["unification", "gauge", "gravity", "τon-graviton"], url: "https://ukbbi.github.io/UNNS/docs/Tauon_Field_Information_Geometry/Recursive%20Grand%20Unification.pdf"},
            {title: "Recursive Information Geometry: From Shannon Entropy to Recursive Cosmology", category: "τon Field", tags: ["geometry", "shannon", "cosmology", "entropy"], url: "https://ukbbi.github.io/UNNS/docs/Tauon_Field_Information_Geometry/Recursive%20Information%20Geometry%20From%20Shannon%20Entropy%20to%20Recursive%20Cosmology.pdf"},
            {title: "The Minimal Morphism (()) ⇒ () ⇒ (()) in the UNNS", category: "τon Field", tags: ["morphism", "minimal", "collapse"], url: "https://ukbbi.github.io/UNNS/docs/Tauon_Field_Information_Geometry/The%20Minimal%20Morphism%20(())%20%E2%87%92%20()%20%E2%87%92%20(())%20in%20the%20UNNS.pdf"},
            {title: "The Minimal Recursive Morphism (()) ⇒ () ⇒ (()) in the UNNS Substrate", category: "τon Field", tags: ["morphism", "minimal", "recursive", "collapse"], url: "https://ukbbi.github.io/UNNS/docs/Tauon_Field_Information_Geometry/TThe%20Minimal%20Recursive%20Morphism%20(())%20%E2%87%92%20()%20%E2%87%92%20(())%20in%20the%20UNNS%20Substrate.pdf"},
            
            // Foundations
            {title: "Axiomatic Basis of the UNNS Discipline", category: "Foundations", tags: ["axioms", "theory"], url: "https://ukbbi.github.io/UNNS/Axiomatic%20Basis%20of%20the%20UNNS%20Discipline.pdf"},
            {title: "Cantor Sets in the UNNS Framework", category: "Foundations", tags: ["set theory", "cantor"], url: "https://ukbbi.github.io/UNNS/Cantor%20Sets%20in%20the%20UNNS%20Framework.pdf"},
            {title: "Formal Proof Expansion", category: "Foundations", tags: ["proofs"], url: "https://ukbbi.github.io/UNNS/Formal%20Proof%20Expansion.pdf"},
            {title: "Gödel's Theorem as a UNNS Constant", category: "Foundations", tags: ["gödel", "logic"], url: "https://ukbbi.github.io/UNNS/G%C2%A8odel%E2%80%99s%20Theorem%20as%20a%20UNNS%20Constant.pdf"},
            {title: "Interpolation of Set Theory and the UNNS Discipline", category: "Foundations", tags: ["set theory"], url: "https://ukbbi.github.io/UNNS/Interpolation%20of%20Set%20Theory%20and%20the%20UNNS%20Discipline.pdf"},
            {title: "Many Faces Theorem 1", category: "Foundations", tags: ["theorems"], url: "https://ukbbi.github.io/UNNS/Many_faces_theorem_1.pdf"},
            {title: "Many Faces Theorem 2", category: "Foundations", tags: ["theorems"], url: "https://ukbbi.github.io/UNNS/Many_faces_theorem_2.pdf"},
            {title: "Many Faces Theorem 3", category: "Foundations", tags: ["theorems"], url: "https://ukbbi.github.io/UNNS/Many_faces_theorem_3.pdf"},
            {title: "Non-Linear UNNS Extensions", category: "Foundations", tags: ["extensions"], url: "https://ukbbi.github.io/UNNS/non-linear_unns_extensions.pdf"},
            {title: "UNNS Constants", category: "Foundations", tags: ["constants"], url: "https://ukbbi.github.io/UNNS/UNNS_Constants.pdf"},
            {title: "UNNS Field Extensions", category: "Foundations", tags: ["fields"], url: "https://ukbbi.github.io/UNNS/UNNS_Field_Extensions.pdf"},
            {title: "UNNS Paradox Index", category: "Foundations", tags: ["paradoxes"], url: "https://ukbbi.github.io/UNNS/UNNS_Paradox_Index.pdf"},
            {title: "UNNS Prime Numbers Theorem", category: "Foundations", tags: ["primes", "number theory"], url: "https://ukbbi.github.io/UNNS/UNNS_Prime_numbers_Theorem.pdf"},
            
            // Operational Grammar  
            {title: "The UNNS Manifesto", category: "Operational Grammar", tags: ["manifesto"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/The%20UNNS%20Manifesto%20Four%20Operations%20for%20a%20New%20Discipline.pdf"},
            {title: "UNNS Operational Grammar", category: "Operational Grammar", tags: ["grammar"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Operational%20Grammar_Inletting_Inlaying_Trans%E2%80%93Sentifying_Repair_and_Normalization.pdf"},
            {title: "UNNS as a Discipline", category: "Operational Grammar", tags: ["discipline"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20as%20a%20Discipline_From%20Recursive%20Architecture%20to%20Operational%20Grammar.pdf"},
            {title: "Extending the UNNS Tetrad into an Octad", category: "Operational Grammar", tags: ["tetrad", "octad"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/Extending%20the%20UNNS%20Tetrad%20into%20an%20Octad.pdf"},
            {title: "Octad Operators Acting on the Zero Substrate", category: "Operational Grammar", tags: ["octad", "zero"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/Octad%20Operators%20Acting%20on%20the%20Zero%20Substrate.pdf"},
            {title: "The UNNS Operator Handbook", category: "Operational Grammar", tags: ["operators", "reference"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/The%20UNNS%20Operator%20Handbook.pdf"},
            {title: "UNNS Octad Operators", category: "Operational Grammar", tags: ["octad"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Octad%20Operators.pdf"},
            {title: "UNNS Operators: From Grammar to Implementation", category: "Operational Grammar", tags: ["implementation"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Operators%20From%20Grammar%20to%20Implementation.pdf"},
            {title: "UNNS Tetrad Operators: Expanded Reference", category: "Operational Grammar", tags: ["tetrad"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Tetrad%20Operators%20Expanded%20Reference%20Guide.pdf"},
            {title: "UNNS Inlaying", category: "Operational Grammar", tags: ["inlaying"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Inlaying.pdf"},
            {title: "UNNS Inletting", category: "Operational Grammar", tags: ["inletting"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Inletting_Mathematical%20and%20Physical%20Perspectives.pdf"},
            {title: "UNNS Inletting: Appendix Worked Example", category: "Operational Grammar", tags: ["inletting", "examples"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Inletting%20Mathematical_Physical%20Perspectives_Appendix%20Worked%20Example.pdf"},
            {title: "UNNS Inletting and Inlaying", category: "Operational Grammar", tags: ["inletting", "inlaying"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Inletting%20and%20Inlaying.pdf"},
            {title: "UNNS Repair Rules and Normalization", category: "Operational Grammar", tags: ["repair", "normalization"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Repair%20Rules%20and%20Normalization.pdf"},
            {title: "UNNS Trans-Sentifying", category: "Operational Grammar", tags: ["trans-sentifying"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Trans%E2%80%93Sentifying.pdf"},
            {title: "UNNS Decomposing, Adopting, and Evaluating", category: "Operational Grammar", tags: ["operations"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Decomposing_Adopting_and_Evaluating.pdf"},
            {title: "The Role of Zero in UNNS", category: "Operational Grammar", tags: ["zero"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/The%20Role%20of%20Zero%20in%20UNNS.pdf"},
            {title: "What is a Number in UNNS", category: "Operational Grammar", tags: ["numbers"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/What%20is%20a%20Number%20in%20UNNS.pdf"},
            {title: "Zero and Number in UNNS", category: "Operational Grammar", tags: ["zero", "numbers"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/Zero%20and%20Number%20in%20UNNS.pdf"},
            {title: "Zero as Nest and Modulus in UNNS", category: "Operational Grammar", tags: ["zero"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/Zero%20as%20Nest%20and%20Modulus%20in%20UNNS.pdf"},
            {title: "Operator-to-UNNS Mapping", category: "Operational Grammar", tags: ["mapping"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/Operator-to-UNNS%20Mapping.pdf"},
            {title: "On the Significance of Classical Sequence Dynamics", category: "Operational Grammar", tags: ["sequences"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/On%20the%20Significance%20of%20Classical%20Sequence%20Dynamics.pdf"},
            
            // Protocols
            {title: "The UNNS Vector Protocol", category: "Protocols", tags: ["vector", "UVP"], url: "https://ukbbi.github.io/UNNS/docs/protocols/The%20UNNS%20Vector%20Protocol.pdf"},
            {title: "The UNNS Tensor Protocol", category: "Protocols", tags: ["tensor"], url: "https://ukbbi.github.io/UNNS/docs/protocols/The%20UNNS%20Tensor%20Protoco.pdf"},
            {title: "The UNNS Gauge Protocol", category: "Protocols", tags: ["gauge"], url: "https://ukbbi.github.io/UNNS/docs/protocols/The%20UNNS%20Gauge%20Protocol.pdf"},
            {title: "The UNNS Lagrangian Protocol", category: "Protocols", tags: ["lagrangian"], url: "https://ukbbi.github.io/UNNS/docs/protocols/The%20UNNS%20Lagrangian%20Protocol.pdf"},
            {title: "The UNNS Hamiltonian Protocol", category: "Protocols", tags: ["hamiltonian"], url: "https://ukbbi.github.io/UNNS/docs/protocols/The%20UNNS%20Hamiltonian%20Protocol.pdf"},
            {title: "The UNNS Quantization Protocol", category: "Protocols", tags: ["quantum"], url: "https://ukbbi.github.io/UNNS/docs/protocols/The%20UNNS%20Quantization%20Protocol.pdf"},
            {title: "The UNNS Path Integral Protocol", category: "Protocols", tags: ["path integral"], url: "https://ukbbi.github.io/UNNS/docs/protocols/The%20UNNS%20Path%20Integral%20Protoco.pdf"},
            {title: "The UNNS Gauge Path Integral", category: "Protocols", tags: ["gauge", "path integral"], url: "https://ukbbi.github.io/UNNS/docs/protocols/The%20UNNS%20Gauge%20Path%20Integral.pdf"},
            {title: "The UNNS Gauge-Gravity Correspondence", category: "Protocols", tags: ["gauge", "gravity"], url: "https://ukbbi.github.io/UNNS/docs/protocols/The%20UNNS%20Gauge%E2%80%93Gravity%20Correspondence.pdf"},
            {title: "The UNNS Holographic Principle", category: "Protocols", tags: ["holography"], url: "https://ukbbi.github.io/UNNS/docs/protocols/The%20UNNS%20Holographic%20Principle.pdf"},
            {title: "The UNNS Black Hole Model", category: "Protocols", tags: ["black holes"], url: "https://ukbbi.github.io/UNNS/docs/protocols/The%20UNNS%20Black%20Hole%20Mode.pdf"},
            {title: "A UNNS Perspective on a Ball on a String", category: "Protocols", tags: ["mechanics", "examples"], url: "https://ukbbi.github.io/UNNS/docs/protocols/A%20UNNS%20Perspective%20on%20a%20Ball%20on%20a%20String.pdf"},
            
            // Chronotopos
            {title: "Time in the UNNS Substrate", category: "Chronotopos", tags: ["time"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/Time%20in%20the%20UNNS%20Substrate.pdf"},
            {title: "Space and Time in the UNNS Substrate", category: "Chronotopos", tags: ["space", "time"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/Space%20and%20Time%20in%20the%20UNNS%20Substrate.pdf"},
            {title: "On the Nature of Space in the UNNS Substrate", category: "Chronotopos", tags: ["space"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/On%20the%20Nature%20of%20Space%20in%20the%20UNNS%20Substrate.pdf"},
            {title: "UNNS Space-Time Geometry", category: "Chronotopos", tags: ["geometry", "metrics"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/UNNS_Space_Time_Geometry_Metrics_Curvature_and_Dynamics.pdf"},
            {title: "UNNS Space-Time: Worked Example", category: "Chronotopos", tags: ["examples"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/UNNS%20Space_Time_Geometry_Worked_Example_Inletting_driven_Expansion.pdf"},
            {title: "On the Possibility of Temporal Recursion", category: "Chronotopos", tags: ["recursion", "temporal"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/temporal_recursion/On%20the%20Possibility%20of%20Temporal%20Recursion%20in%20the%20UNNS%20Substrate.pdf"},
            {title: "UNNS and the Klein Surface", category: "Chronotopos", tags: ["klein", "topology"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/temporal_recursion/UNNS%20and%20the%20Klein%20Surface.pdf"},
            {title: "Temporal Recursion and Klein Surface Realization", category: "Chronotopos", tags: ["recursion", "klein"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/temporal_recursion/Temporal%20Recursion%20in%20the%20UNNS%20Substrate%20and%20Its%20Klein%20Surface%20Realization.pdf"},
            {title: "Technical Appendix: UNNS Simulation Showcase", category: "Chronotopos", tags: ["simulation"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/temporal_recursion/Technical%20Appendix_UNNS%20Simulation%20Showcase%20.pdf"},
            {title: "Beyond Shannon: Recursive Information", category: "Chronotopos", tags: ["shannon", "entropy"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/chronotopos-entropy-entanglement/Beyond%20Shannon%20Recursive%20Information%20and%20the%20Non-Orientable%20Geometry%20of%20Time.pdf"},
            {title: "Entanglement Entropy and Non-Orientable Coupling", category: "Chronotopos", tags: ["entanglement", "entropy"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/chronotopos-entropy-entanglement/Entanglement%20Entropy%20and%20Non-Orientable%20Coupling%20in%20the%20UNNS%20Substrate.pdf"},
            {title: "Reinterpreting Shannon Entropy", category: "Chronotopos", tags: ["shannon", "entropy"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/chronotopos-entropy-entanglement/Reinterpreting%20Shannon%20Entropy%20under%20Recursive%20Temporal%20Geometry.pdf"},
            {title: "UNNS and Shannon Entropy", category: "Chronotopos", tags: ["shannon"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/chronotopos-entropy-entanglement/UNNS%20and%20Shannon%20Entropy.pdf"},
            {title: "Visual Companion: Shannon Flow vs UNNS Curvature", category: "Chronotopos", tags: ["visualization"], url: "https://ukbbi.github.io/UNNS/docs/chronotopos/chronotopos-entropy-entanglement/Visual%20Companion%20Shannon%20Flow%20vs%20UNNS%20Curvature.pdf"},
            
            // Thermodynamics
            {title: "Thermodynamics of UNNS", category: "Thermodynamics", tags: ["entropy", "energy"], url: "https://ukbbi.github.io/UNNS/docs/thermodynamics/Thermodynamics%20of%20UNNS_Entropy_Energy_and_Non-equilibrium_Recursion.pdf"},
            {title: "Toward a Thermodynamic Framework for UNNS", category: "Thermodynamics", tags: ["framework"], url: "https://ukbbi.github.io/UNNS/docs/thermodynamics/Toward%20a%20Thermodynamic%20Framework%20for%20UNNS.pdf"},
            
            // Spectral Geometry
            {title: "UNNS Spectral Geometry", category: "Spectral Geometry", tags: ["spectral"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_spectral_geometry/UNNS%20Spectral%20Geometry.pdf"},
            {title: "The Mandelbrot Set in the UNNS Substrate", category: "Spectral Geometry", tags: ["mandelbrot", "fractals"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_spectral_geometry/The%20Mandelbrot%20Set%20in%20the%20UNNS%20Substrate.pdf"},
            {title: "UNNS Spectral Geometry of the Mandelbrot: Appendix", category: "Spectral Geometry", tags: ["mandelbrot"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_spectral_geometry/UNNS%20Spectral%20Geometry%20of%20the%20Mandelbrot%20and%20Beyond_appendix.pdf"},
            
            // UNNS Structures
            {title: "On the Notion of Structure in the Logic of UNNS", category: "UNNS Structures", tags: ["logic", "structure"], url: "https://ukbbi.github.io/UNNS/docs/unns-structures/On%20the%20Notion%20of%20Structure%20in%20the%20Logic%20of%20UNNS.pdf"},
            {title: "The Logic of UNNS", category: "UNNS Structures", tags: ["logic", "topos"], url: "https://ukbbi.github.io/UNNS/docs/unns-structures/The%20Logic%20of%20UNNS%20On%20the%20Nature%20of%20Structure%20and%20the%20UNNS%20Topos.pdf"},
            {title: "UNNS Structures and Their Correlation with Physics", category: "UNNS Structures", tags: ["physics"], url: "https://ukbbi.github.io/UNNS/docs/unns-structures/UNNS%20Structures%20and%20Their%20Correlation%20with%20Physics.pdf"},
            {title: "UNNS Structures as Discrete Hilbert Spaces", category: "UNNS Structures", tags: ["quantum", "hilbert"], url: "https://ukbbi.github.io/UNNS/docs/unns-structures/UNNS%20Structures%20as%20Discrete%20Hilbert%20Spaces%20Toward%20Quantum%20Correlations.pdf"},
            {title: "UNNS Hilbert Spaces: Results", category: "UNNS Structures", tags: ["quantum", "results"], url: "https://ukbbi.github.io/UNNS/docs/unns-structures/UNNS%20Structures%20as%20Discrete%20Hilbert%20Spaces%20Toward%20Quantum%20Correlations%20Results.pdf"},
            {title: "UNNS Big Bang and String Theory", category: "UNNS Structures", tags: ["cosmology", "strings"], url: "https://ukbbi.github.io/UNNS/docs/unns-structures/UNNS%20Big%20Bang%20and%20String%20Theory%20Structural%20vs%20Resonance%20Substrates.pdf"},
            {title: "UNNS and the Dirac Equation", category: "UNNS Structures", tags: ["dirac", "fermions"], url: "https://ukbbi.github.io/UNNS/docs/unns-structures/UNNS%20and%20the%20Dirac%20Equation.pdf"},
            {title: "UNNS and the Dirac Equation: Toward a Recursive Substrate", category: "UNNS Structures", tags: ["dirac"], url: "https://ukbbi.github.io/UNNS/docs/unns-structures/UNNS%20and%20the%20Dirac%20Equation%20Toward%20a%20Recursive%20Substrate%20for%20Fermions.pdf"},
            
            // Cosmology
            {title: "A UNNS Hypothesis on Dark Matter and Dark Energy", category: "Cosmology", tags: ["dark matter"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/A%20UNNS%20Hypothesis%20on%20Dark%20Matter%20and%20Dark.pdf"},
            {title: "Recursive Substrates and Cosmology", category: "Cosmology", tags: ["cosmology"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/A%20Detailed%20Hypothesis%20Linking%20Recursive%20Substrates%20to%20Cosmology,%20Dark%20Matter%20and%20Dark%20Energy.pdf"},
            
            // Complex Numbers
            {title: "Complex Numbers in the UNNS Substrate", category: "Complex Numbers", tags: ["complex"], url: "https://ukbbi.github.io/UNNS/docs/unns-complex_numbers/Complex%20Numbers%20in%20the%20UNNS%20Substrate.pdf"},
            {title: "Quadratic Roots Without Complex Numbers", category: "Complex Numbers", tags: ["quadratic"], url: "https://ukbbi.github.io/UNNS/docs/unns-complex_numbers/Quadratic%20Roots%20Without%20Complex%20Numbers%20via%20UNNS%20Echo%20Cycles.pdf"},
            {title: "A Concrete Applied Example", category: "Complex Numbers", tags: ["examples"], url: "https://ukbbi.github.io/UNNS/docs/unns-complex_numbers/A%20Concrete_Applied%20Example.pdf"},
            {title: "The UNNS Calculator", category: "Complex Numbers", tags: ["calculator"], url: "https://ukbbi.github.io/UNNS/docs/unns-complex_numbers/The%20UNNS%20Calculator%20Exploring%20Recursion%20Geometry%20and%20Dynamicstex.pdf"},
            
            // Applied Dynamics
            {title: "UNNS vs Classical Dynamics", category: "Applied Dynamics", tags: ["dynamics"], url: "https://ukbbi.github.io/UNNS/docs/projectile_calculator/UNNS%20vs%20Classical%20Dynamics%20A%20Comparative%20Theoretical%20Framework.pdf"},
            
            // Tensor Calculus
            {title: "UNNS as a Discrete Topological Field Theory", category: "Tensor Calculus", tags: ["topology"], url: "https://ukbbi.github.io/UNNS/docs/UNNS%20as%20a%20Discrete%20Topological%20Field%20Theory.pdf"},
            {title: "UNNS Inletting: Mathematical and Physical Perspectives", category: "Tensor Calculus", tags: ["inletting"], url: "https://ukbbi.github.io/UNNS/docs/UNNS%20Inletting_Mathematical%20and%20Physical%20Perspectives.pdf"},
            {title: "UNNS Inletting: Appendix Worked Example", category: "Tensor Calculus", tags: ["examples"], url: "https://ukbbi.github.io/UNNS/docs/UNNS%20Inletting%20Mathematical_Physical%20Perspectives_Appendix%20Worked%20Example.pdf"},
            {title: "Interpolation of Tensor Calculus with UNNS 1", category: "Tensor Calculus", tags: ["tensors"], url: "https://ukbbi.github.io/UNNS/docs/Interpolation%20of%20Tensor%20Calculus%20with%20UNNS_1.pdf"},
            {title: "Interpolation of Tensor Calculus with UNNS 2", category: "Tensor Calculus", tags: ["tensors"], url: "https://ukbbi.github.io/UNNS/docs/Interpolation%20of%20Tensor%20Calculus%20with%20UNNS_2.pdf"},
            {title: "Interpolation of Tensor Calculus with UNNS 3", category: "Tensor Calculus", tags: ["tensors"], url: "https://ukbbi.github.io/UNNS/docs/Interpolation%20of%20Tensor%20Calculus%20with%20UNNS_3.pdf"},
            {title: "Interpolation of Tensor Calculus with UNNS 4", category: "Tensor Calculus", tags: ["tensors"], url: "https://ukbbi.github.io/UNNS/docs/Interpolation%20of%20Tensor%20Calculus%20with%20UNNS_4.pdf"},
            
            // Maxwell's Laws
            {title: "Correlation Between Maxwell Laws and UNNS", category: "Maxwell's Laws", tags: ["maxwell", "electromagnetism"], url: "https://ukbbi.github.io/UNNS/Correlation%20Between%20Maxwell%20Laws%20and%20the%20UNNS%20Substrate.pdf"},
            {title: "UNNS Maxwell FEEC DEC", category: "Maxwell's Laws", tags: ["FEEC", "DEC"], url: "https://ukbbi.github.io/UNNS/UNNS_Maxwell_FEEC_DEC.pdf"},
            {title: "UNNS Maxwell FEEC DEC (Upgraded)", category: "Maxwell's Laws", tags: ["FEEC", "DEC"], url: "https://ukbbi.github.io/UNNS/UNNS_Maxwell_FEEC_DEC_upgraded.pdf"},
            
            // Logic & Computability
            {title: "UNNS Computability & Logic", category: "Logic & Computability", tags: ["computability"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS%20Computability%20&%20Logic.pdf"},
            {title: "A UNNS Note on NP-Hardness", category: "Logic & Computability", tags: ["NP", "complexity"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS_on_NP_Hardness/A%20UNNS%20Note%20on%20NP-Hardness.pdf"},
            {title: "NP-Hardness in the UNNS Substrate", category: "Logic & Computability", tags: ["NP"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/UNNS_on_NP_Hardness/NP-Hardness%20in%20the%20UNNS%20Substrate.pdf"},
            {title: "UNNS and Carroll's Paradox", category: "Logic & Computability", tags: ["paradox"], url: "https://ukbbi.github.io/UNNS/docs/UNNS%20and%20Carroll%E2%80%99s%20Paradox.pdf"},
            {title: "A UNNS Critique of Banach-Tarski", category: "Logic & Computability", tags: ["axiom of choice"], url: "https://ukbbi.github.io/UNNS/docs/UNNS_Operational_Grammar/A%20UNNS%20Critique%20of%20Banach_Tarski%20and%20the%20Axiom%20of%20Choice.pdf"},
        ];

        async function scanRepository() {
            updateStatus('checking', 'Checking GitHub...');
            
            try {
                const response = await fetch('https://ukbbi.github.io/UNNS/library-manifest.json', {
                    cache: 'no-cache'
                });
                
                if (response.ok) {
                    const remotePapers = await response.json();
                    if (remotePapers && remotePapers.length > 0) {
                        updateStatus('idle', 'Remote check complete');
                        return remotePapers;
                    }
                }
            } catch (error) {
                console.log('Using pre-loaded database (GitHub API unavailable)');
            }
            
            updateStatus('idle', 'Using local database');
            return papers;
        }

        function inferCategory(path) {
            if (path.includes('Tauon_Field')) return 'τon Field';
            if (path.includes('protocols')) return 'Protocols';
            if (path.includes('chronotopos')) return 'Chronotopos';
            if (path.includes('thermodynamics')) return 'Thermodynamics';
            if (path.includes('spectral')) return 'Spectral Geometry';
            if (path.includes('structures')) return 'UNNS Structures';
            if (path.includes('complex')) return 'Complex Numbers';
            if (path.includes('projectile')) return 'Applied Dynamics';
            if (path.includes('Operational_Grammar')) return 'Operational Grammar';
            if (path.includes('Tensor')) return 'Tensor Calculus';
            if (path.includes('Maxwell')) return "Maxwell's Laws";
            if (path.includes('NP')) return 'Logic & Computability';
            return 'Foundations';
        }

        async function checkForUpdates() {
            const btn = document.getElementById('checkNowBtn');
            btn.disabled = true;
            btn.textContent = 'Checking...';
            
            const newPapers = await scanRepository();
            
            if (newPapers && newPapers.length > papers.length) {
                const existingUrls = new Set(papers.map(p => p.url));
                const actuallyNew = newPapers.filter(p => !existingUrls.has(p.url));
                
                if (actuallyNew.length > 0) {
                    papers = newPapers;
                    actuallyNew.forEach(p => newlyAddedPapers.add(p.url));
                    updateCategories();
                    showUpdateNotification(actuallyNew.length);
                    document.getElementById('newPapersCount').textContent = actuallyNew.length;
                    updateStatus('idle', 'Updates found!');
                } else {
                    updateStatus('idle', 'Already up to date');
                }
            } else {
                updateStatus('idle', 'Library current');
            }
            
            document.getElementById('lastChecked').textContent = new Date().toLocaleTimeString();
            btn.disabled = false;
            btn.textContent = 'Check for Updates';
            
            renderPapers();
        }

        function showUpdateNotification(count) {
            const notification = document.getElementById('updateNotification');
            notification.innerHTML = `
                <strong>🎉 ${count} new paper${count > 1 ? 's' : ''} added!</strong> 
                New papers are highlighted with a "NEW" badge.
            `;
            notification.style.display = 'block';
            setTimeout(() => {
                notification.style.display = 'none';
            }, 10000);
        }

        function updateStatus(status, message) {
            const indicator = document.getElementById('statusIndicator');
            const statusText = document.getElementById('repoStatus');
            
            if (status === 'checking') {
                indicator.classList.add('checking');
            } else {
                indicator.classList.remove('checking');
            }
            
            statusText.textContent = message;
        }

        function startAutoCheck() {
            if (checkTimer) clearInterval(checkTimer);
            
            nextCheckTime = CHECK_INTERVAL / 1000;
            const countdownInterval = setInterval(() => {
                nextCheckTime--;
                const mins = Math.floor(nextCheckTime / 60);
                const secs = nextCheckTime % 60;
                document.getElementById('nextCheck').textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
                
                if (nextCheckTime <= 0) {
                    nextCheckTime = CHECK_INTERVAL / 1000;
                }
            }, 1000);
            
            checkTimer = setInterval(async () => {
                if (autoCheckEnabled) {
                    await checkForUpdates();
                }
            }, CHECK_INTERVAL);
        }

        function updateCategories() {
            categories = [...new Set(papers.map(p => p.category))].sort();
            
            // Put τon Field first
            const tonIndex = categories.indexOf('τon Field');
            if (tonIndex > -1) {
                categories.splice(tonIndex, 1);
                categories.unshift('τon Field');
            }
            
            const filterContainer = document.getElementById('categoryFilters');
            filterContainer.innerHTML = '';
            categories.forEach(cat => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn';
                if (cat === 'τon Field') {
                    btn.classList.add('ton-field');
                }
                btn.textContent = cat;
                btn.onclick = () => toggleCategory(cat, btn);
                filterContainer.appendChild(btn);
            });
        }

        function toggleCategory(category, btn) {
            if (activeCategory === category) {
                activeCategory = null;
                btn.classList.remove('active');
            } else {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                activeCategory = category;
                btn.classList.add('active');
            }
            renderPapers();
        }

        function renderPapers() {
            let filtered = papers.filter(paper => {
                const matchesCategory = !activeCategory || paper.category === activeCategory;
                const matchesSearch = !searchQuery || 
                    paper.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    paper.category.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    paper.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()));
                return matchesCategory && matchesSearch;
            });

            if (sortBy === 'title') {
                filtered.sort((a, b) => a.title.localeCompare(b.title));
            } else if (sortBy === 'category') {
                filtered.sort((a, b) => {
                    if (a.category === b.category) return a.title.localeCompare(b.title);
                    return a.category.localeCompare(b.category);
                });
            } else if (sortBy === 'recent') {
                filtered.sort((a, b) => (b.dateAdded || 0) - (a.dateAdded || 0));
            }

            const grid = document.getElementById('papersGrid');
            const noResults = document.getElementById('noResults');
            
            document.getElementById('resultCount').textContent = filtered.length;
            document.getElementById('totalCount').textContent = papers.length;

            if (filtered.length === 0) {
                grid.style.display = 'none';
                noResults.style.display = 'block';
                return;
            }

            grid.style.display = 'grid';
            noResults.style.display = 'none';
            
            grid.innerHTML = filtered.map(paper => {
                const isTonField = paper.category === 'τon Field';
                return `
                    <div class="paper-card ${newlyAddedPapers.has(paper.url) ? 'new' : ''} ${isTonField ? 'ton-field' : ''}">
                        <div class="paper-category ${isTonField ? 'ton-field-cat' : ''}">${paper.category}</div>
                        <h3 class="paper-title">
                            <a href="${paper.url}" target="_blank" rel="noopener">${paper.title}</a>
                        </h3>
                        <div class="paper-tags">
                            ${paper.tags.map(tag => `<span class="paper-tag">${tag}</span>`).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        document.getElementById('searchInput').addEventListener('input', (e) => {
            searchQuery = e.target.value;
            renderPapers();
        });

        document.getElementById('sortSelect').addEventListener('change', (e) => {
            sortBy = e.target.value;
            renderPapers();
        });

        document.getElementById('clearBtn').addEventListener('click', () => {
            activeCategory = null;
            searchQuery = '';
            sortBy = 'title';
            document.getElementById('searchInput').value = '';
            document.getElementById('sortSelect').value = 'title';
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            renderPapers();
        });

        document.getElementById('checkNowBtn').addEventListener('click', checkForUpdates);

        document.getElementById('autoCheckToggle').addEventListener('click', (e) => {
            autoCheckEnabled = !autoCheckEnabled;
            e.target.textContent = `Auto-Check: ${autoCheckEnabled ? 'ON' : 'OFF'}`;
            if (autoCheckEnabled) {
                startAutoCheck();
            } else {
                if (checkTimer) clearInterval(checkTimer);
                document.getElementById('nextCheck').textContent = 'Disabled';
            }
        });

        papers = COMPLETE_PAPER_LIST.map(p => ({...p, dateAdded: Date.now()}));
        updateCategories();
        updateStatus('idle', 'Library loaded (100+ papers)');
        renderPapers();
        startAutoCheck();
        
        setTimeout(() => {
            checkForUpdates();
        }, 3000);
    </script>
</body>
</html>
